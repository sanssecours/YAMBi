language: cpp

matrix:
  include:
    - os: osx
      name: 🍏 Clang

before_install:
  - |
    if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then
      brew install bison
      brew install elektra
      brew install llvm
      export CC=/usr/local/opt/llvm/bin/clang
      export CXX=/usr/local/opt/llvm/bin/clang++
      brew install ninja
    fi

before_script:
  - mkdir -p Build
  - cd Build
  - printf '🤖 Configure\n\n'
  - cmake -G Ninja -DCMAKE_EXPORT_COMPILE_COMMANDS=ON ..
  - cd ..

script:
  - printf '🏗 Build\n\n'
  - ninja -C Build
  - printf '🚗 Run\n\n'
  - Build/yambi Input/"Plain Scalar>Word Chars.yaml"
